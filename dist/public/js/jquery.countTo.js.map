{"version":3,"sources":["../../../public/js/jquery.countTo.js"],"names":["factory","define","amd","exports","require","jQuery","$","CountTo","element","options","$element","extend","DEFAULTS","dataOptions","init","from","to","speed","refreshInterval","decimals","formatter","onUpdate","onComplete","prototype","value","loops","Math","ceil","loopCount","increment","data","keys","Object","i","key","update","render","call","clearInterval","interval","formattedValue","text","restart","stop","start","setInterval","bind","toggle","toFixed","fn","countTo","option","each","$this","method"],"mappings":"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","file":"jquery.countTo.js","sourcesContent":["(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // CommonJS\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n  var CountTo = function (element, options) {\n    this.$element = $(element);\n    this.options  = $.extend({}, CountTo.DEFAULTS, this.dataOptions(), options);\n    this.init();\n  };\n\n  CountTo.DEFAULTS = {\n    from: 0,               // the number the element should start at\n    to: 0,                 // the number the element should end at\n    speed: 1000,           // how long it should take to count between the target numbers\n    refreshInterval: 100,  // how often the element should be updated\n    decimals: 0,           // the number of decimal places to show\n    formatter: formatter,  // handler for formatting the value before rendering\n    onUpdate: null,        // callback method for every time the element is updated\n    onComplete: null       // callback method for when the element finishes updating\n  };\n\n  CountTo.prototype.init = function () {\n    this.value     = this.options.from;\n    this.loops     = Math.ceil(this.options.speed / this.options.refreshInterval);\n    this.loopCount = 0;\n    this.increment = (this.options.to - this.options.from) / this.loops;\n  };\n\n  CountTo.prototype.dataOptions = function () {\n    var options = {\n      from:            this.$element.data('from'),\n      to:              this.$element.data('to'),\n      speed:           this.$element.data('speed'),\n      refreshInterval: this.$element.data('refresh-interval'),\n      decimals:        this.$element.data('decimals')\n    };\n\n    var keys = Object.keys(options);\n\n    for (var i in keys) {\n      var key = keys[i];\n\n      if (typeof(options[key]) === 'undefined') {\n        delete options[key];\n      }\n    }\n\n    return options;\n  };\n\n  CountTo.prototype.update = function () {\n    this.value += this.increment;\n    this.loopCount++;\n\n    this.render();\n\n    if (typeof(this.options.onUpdate) == 'function') {\n      this.options.onUpdate.call(this.$element, this.value);\n    }\n\n    if (this.loopCount >= this.loops) {\n      clearInterval(this.interval);\n      this.value = this.options.to;\n\n      if (typeof(this.options.onComplete) == 'function') {\n        this.options.onComplete.call(this.$element, this.value);\n      }\n    }\n  };\n\n  CountTo.prototype.render = function () {\n    var formattedValue = this.options.formatter.call(this.$element, this.value, this.options);\n    this.$element.text(formattedValue);\n  };\n\n  CountTo.prototype.restart = function () {\n    this.stop();\n    this.init();\n    this.start();\n  };\n\n  CountTo.prototype.start = function () {\n    this.stop();\n    this.render();\n    this.interval = setInterval(this.update.bind(this), this.options.refreshInterval);\n  };\n\n  CountTo.prototype.stop = function () {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  };\n\n  CountTo.prototype.toggle = function () {\n    if (this.interval) {\n      this.stop();\n    } else {\n      this.start();\n    }\n  };\n\n  function formatter(value, options) {\n    return value.toFixed(options.decimals);\n  }\n\n  $.fn.countTo = function (option) {\n    return this.each(function () {\n      var $this   = $(this);\n      var data    = $this.data('countTo');\n      var init    = !data || typeof(option) === 'object';\n      var options = typeof(option) === 'object' ? option : {};\n      var method  = typeof(option) === 'string' ? option : 'start';\n\n      if (init) {\n        if (data) data.stop();\n        $this.data('countTo', data = new CountTo(this, options));\n      }\n\n      data[method].call(data);\n    });\n  };\n}));\n"]}